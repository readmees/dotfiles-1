#!/usr/bin/env bash

# RUN:
# $ chmod +x ~/path/to/.install
# $ ~/path/to/.install

# Get current dir (so run this script from anywhere)
export DOTFILES_DIR DOTFILES_CACHE DOTFILES_EXTRA_DIR
DOTFILES_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

echo $DOTFILES_DIR

# get hardlink
git clone https://github.com/selkhateeb/hardlink.git
cd hardlink
make
sudo make install

# Bunch of hardlinks
hln "$DOTFILES_DIR/.bash_profile" ~/.bash_profile
hln "$DOTFILES_DIR/.gitconfig" ~/.gitconfig
hln "$DOTFILES_DIR/.hyper.js" ~/.hyper.js
hln "$DOTFILES_DIR/.update" ~/.update

# Package managers & packages
. "$DOTFILES_DIR/install/brew.sh"
. "$DOTFILES_DIR/install/brew-cask.sh"
. "$DOTFILES_DIR/install/pip.sh"

# RUBYGEM install/update
gem update --system  # you might need to be an administrator or root

# JEKYLL install
gem install jekyll bundler

# Run macOS defaults
. "$DOTFILES_DIR/.newmac"
