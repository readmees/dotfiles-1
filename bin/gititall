#!/usr/bin/env bash

reposfile="$HOME/.gitrepos.txt"
reset=$(tput sgr0);
orange=$(tput setaf 166);
bold=$(tput bold);


# check if user want to --add a repo (1),
# --show the saved repos (2) or just refresh all his/her repos (3)
if [[ $1 == "add" || $1 == "-a" ]]; then        #(1)
    if [[ $2 == "." ]]; then
        pwd >> ${reposfile};
    else
        echo $2 >> ${reposfile};
    fi
elif [[ $1 == "show" || $1 == "-s" ]]; then     #(2)
    echo -e "${orange}$(cat ${reposfile})${reset}"
elif [[ $1 == "pull" ]] || [[ $1 == "s" ]]; then   #(3)
    while read -r REPO
    do
        (echo -e "${bold}${orange}${REPO}${reset}:" &&
        cd ${REPO} &&
        git $1);
    done < ${reposfile}
fi

