#!/usr/bin/env bash

FILE="$HOME/.gititall"
reset=$(tput sgr0);
orange=$(tput setaf 166);
bold=$(tput bold);

case $1 in 
    add|-a)
	pwd >> ${FILE}
	;;
    show|-s)
	echo -e "${orange}$(cat ${FILE})${reset}"
	;;
    pull|s)
	while read -r REPO; do
	    (echo -e "${bold}${orange}${REPO}${reset}:"
	    pushd ${REPO} >/dev/null 2>&1
	    git $1
	    popd >/dev/null 2>&1)
	done < ${FILE}
	;;
    *)
	echo "use -a|add, -s|show or pull|s"
	exit 1
	;;
esac
