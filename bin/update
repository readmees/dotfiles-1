#!/usr/bin/env bash
reset=$(tput sgr0)
orangebold=$(tput bold; tput setaf 166)

dot pull

# BREW (CASK)
if [[ "$OSTYPE" == "Darwin"* ]]; then
    if brew > /dev/null 2>&1; then
	echo -e "${orangebold}updating and upgrading Brew...${reset}"
	brew -q update
	brew -q upgrade
	brew -q cleanup
    fi
fi

if [[ "$OSTYPE" == "linux"* ]]; then
    if apt-get > /dev/null 2>&1; then
	echo -e "${orangebold}updating and upgrading apt-get...${reset}"
	sudo apt-get update
	sudo apt-get upgrade -y
    fi
fi

# NPM
if npm > /dev/null 2>&1; then
    echo -e "${orangebold}updating and upgrading NPM...${reset}"
    npm install npm -g
    npm update -g
fi

# PIP
if pip > /dev/null 2>&1; then
    echo -e "${orangebold}updating and upgrading PIP...${reset}"
    pip freeze > tmp/requirements.txt
    pip install -r tmp/requirements.txt --upgrade -q
fi

# ATOM
if apm > /dev/null 2>&1; then
    echo -e "${orangebold}updating Atom packages...${reset}"
    apm update
fi

# APP STORE
if [[ "$OSTYPE" == "Darwin"* ]]; then
    echo -e "${orangebold}App Store software updates...${reset}"
    sudo softwareupdate -i -a
fi
