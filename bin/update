#!/usr/bin/env bash
reset=$(tput sgr0)
orangebold=$(tput bold; tput setaf 166)

command -V dot > /dev/null 2>&1 && dot pull

# BREW (CASK)
if [[ "$OSTYPE" == "darwin"* ]]; then
    if [[ $(command -v brew) ]]; then
	echo -e "${orangebold}updating and upgrading Brew...${reset}"
	brew upgrade
	brew cleanup -s
        brew doctor
        brew missing
    fi
fi

if [[ "$OSTYPE" == "linux"* ]]; then
    if [[ $(command -v apt-get) ]]; then
	echo -e "${orangebold}updating and upgrading apt-get...${reset}"
	sudo apt-get update
	sudo apt-get upgrade -y
    fi
fi

# NPM
if [[ $(command -v npm) ]]; then
    echo -e "${orangebold}updating and upgrading NPM...${reset}"
    npm install npm -g
    npm update -g
fi

# PIP
if [[ $(command -v pip) ]]; then
    echo -e "${orangebold}updating and upgrading PIP...${reset}"
    pip freeze > /tmp/requirements.txt
    pip install -r /tmp/requirements.txt --upgrade -q
fi

# ATOM
if [[ $(command -v apm) ]]; then
    echo -e "${orangebold}updating Atom packages...${reset}"
    apm upgrade -c false
    apm clean
fi

# APP STORE
if [[ "$OSTYPE" == "darwin"* ]]; then
    echo -e "${orangebold}App Store software updates...${reset}"
    sudo softwareupdate -i -a
fi
